<ng-container *ngIf="(client$ | async); let client">


    <form nzNoColon nz-form [formGroup]="form"
        style="flex-grow: 1; display: flex; flex-direction: column; overflow: hidden;">
        <nz-tabset [nzAnimated]="{inkBar: true, tabPane:false}">
            <nz-tab [nzTitle]="BasicTitle">
                <ng-template #BasicTitle>
                    <i nz-icon nzType="container"></i>Basic
                </ng-template>
                <div style="display: flex; flex-direction: row; padding:3px">
                    <div style="flex-grow: 1;">

                        <div nz-row [nzGutter]="8">

                            <div nz-col nzSpan="7">
                                <nz-form-label nzRequired nzFor="ClientId">ClientId</nz-form-label>
                                <nz-form-control>
                                    <input nz-input formControlName="ClientId" id="ClientId" style="flex-grow: 1;" />
                                </nz-form-control>
                            </div>

                            <div nz-col nzSpan="17">
                                <nz-form-label nzRequired nzFor="DisplayName">DisplayName</nz-form-label>
                                <nz-form-control>
                                    <input nz-input formControlName="DisplayName" id="DisplayName" style="width: 100%;" />
                                </nz-form-control>
                            </div>

                        </div>

                        <div nz-row [nzGutter]="8">
                            <div nz-col nzSpan="24">
                                <nz-form-label nzFor="Description">Description</nz-form-label>
                                <nz-form-control>
                                    <textarea nz-input formControlName="Description" id="Description"
                                        [nzAutosize]="{ minRows: 4, maxRows: 12 }"></textarea>
                                </nz-form-control>
                            </div>
                        </div>

                        <!-- <div nz-row [nzGutter]="8">
                            <div nz-col nzSpan="24">
                                <nz-form-label nzFor="Description">Client Secrets</nz-form-label>
                                <nz-form-control>
                                    <secrets-manager formControlName="ClientSecrets" style="height: 200px;">
                                    </secrets-manager>
                                </nz-form-control>
                            </div>
                        </div> -->

                    </div>
                    <div style="width: 10px;margin-right: 10px;">

                    </div>
                    <div style="width: 30%;">
                        <nz-collapse [nzBordered]="true" nzAccordion>
                            <nz-collapse-panel nzHeader="Options" [nzActive]="true">
                                <!-- <label nz-checkbox formControlName="Enabled">
                                    Enabled
                                </label>
                                <br />
                                <label nz-checkbox formControlName="RequireClientSecret">
                                    Require Client Secret
                                </label>
                                <br /> -->
                                <label nz-checkbox formControlName="RequirePkce">
                                    Require Pkce
                                </label>
                                <!--<br />
                                <label nz-checkbox formControlName="AllowPlainTextPkce">
                                    Allow PlainText Pkce
                                </label>
                                <br /> -->
                            </nz-collapse-panel>
                            <!-- <nz-collapse-panel nzHeader="AllowedGrantTypes" dbCheckboxGroup
                                formControlName="AllowedGrantTypes" returnType="array">
                                <label nz-checkbox nzValue="implicit">
                                    Implicit
                                </label>
                                <br />
                                <label nz-checkbox nzValue="hybrid">
                                    Hybrid
                                </label>
                                <br />
                                <label nz-checkbox nzValue="authorization_code">
                                    Authorization Code
                                </label>
                                <br />
                                <label nz-checkbox nzValue="client_credentials">
                                    Client Credentials
                                </label>
                                <br />
                                <label nz-checkbox nzValue="password">
                                    Resource Owner Password
                                </label>
                                <br />
                                <label nz-checkbox nzValue="urn:ietf:params:oauth:grant-type:device_code">
                                    Device Flow
                                </label>
                                <br />

                            </nz-collapse-panel> -->
                            <nz-collapse-panel nzHeader="Token Options" class="tokenOptionsPanel">

                                <!-- <nz-form-label>AccessTokenType</nz-form-label>
                                <nz-form-control>
                                    <nz-select formControlName="AccessTokenType">
                                        <nz-option nzValue="Reference" nzLabel="Reference"></nz-option>
                                        <nz-option nzValue="Jwt" nzLabel="JWT"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                                <nz-form-label>RefreshTokenUsage</nz-form-label>
                                <nz-form-control>
                                    <nz-select formControlName="RefreshTokenUsage">
                                        <nz-option nzValue="OneTimeOnly" nzLabel="OneTimeOnly"></nz-option>
                                        <nz-option nzValue="ReUse" nzLabel="ReUse"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                                <nz-form-label>RefreshTokenExpiration</nz-form-label>
                                <nz-form-control>
                                    <nz-select formControlName="RefreshTokenExpiration">
                                        <nz-option nzValue="Absolute" nzLabel="Absolute"></nz-option>
                                        <nz-option nzValue="Sliding" nzLabel="Sliding"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                                <br />
                                <label nz-checkbox formControlName="AllowAccessTokensViaBrowser">
                                    Allow AccessTokens via Browser
                                </label>
                                <br /> -->

                            </nz-collapse-panel>
                        </nz-collapse>
                    </div>
                </div>

            </nz-tab>
            <nz-tab [nzTitle]="UrisTitle">
                <ng-template #UrisTitle>
                    <i nz-icon nzType="container"></i>Configure URIs
                </ng-template>
                <ng-template nz-tab>
                    <div style="display: flex; flex-direction: column; flex-grow:1; padding-bottom: 3px;">


                        <simple-list style="height: 100%; padding-top:3px; flex-grow:1; min-height: 200px;" header="Redirect Uri's"
                            formControlName="RedirectUris" no-scrollbar>
                        </simple-list>



                        <simple-list style="height: 100%; padding-top:3px; flex-grow:1; min-height: 200px;" header="Post Logout Redirect Uri's"
                            formControlName="PostLogoutRedirectUris" no-scrollbar>
                        </simple-list>



                        <!-- <simple-list style="height: 100%; padding-top:3px; flex-grow:1; min-height: 200px;" header="Allowed Cors Origins"
                            formControlName="AllowedCorsOrigins" no-scrollbar>
                        </simple-list> -->


                    </div>
                </ng-template>
            </nz-tab>
        </nz-tabset>
    </form>
</ng-container>